# ุณุณุชู ฺุช ุจุงุช ูุงุฑุณ - ุฑูุญ ุนุฒุฒุงู ููุชโุดุฏู
# Persian Chatbot System - Deceased Loved Ones' Spirit

ุณุณุชู ฺฉุงูู ุจุฑุง ุขููุฒุด ู ุงุฌุฑุง ฺฉ ฺุช ุจุงุช ูุงุฑุณ ฺฉู ุจู ุนููุงู ุฑูุญ ุนุฒุฒุงู ููุชโุดุฏู ุตุญุจุช ูโฺฉูุฏ.

Complete system for training and running a Persian chatbot that speaks as the spirit of deceased loved ones.

## ๐ ูุงุฒููุฏโูุง
## Requirements

- Ubuntu 20.04/22.04
- NVIDIA GPU ุจุง 6GB+ VRAM
- Python 3.8+
- CUDA 11.8+

## ๐ ูุตุจ ู ุงุฌุฑุง
## Installation and Usage

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง
### 1. Install Dependencies

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
pip install transformers accelerate peft bitsandbytes datasets sentencepiece scipy scikit-learn numpy pandas tqdm huggingface-hub tokenizers safetensors
```

### 2. ุขููุฒุด ูุฏู (ููุท ฺฉ ุจุงุฑ)
### 2. Train Model (One Time Only)

```bash
python train_once.py
```

ุงู ุงุณฺฉุฑูพุช:
- ุจุฑุฑุณ ูโฺฉูุฏ ุขุง ูุฏู ุงุฒ ูุจู ุขููุฒุด ุฏุฏู ุงุณุช
- ุงฺฏุฑ `./final_model` ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุขููุฒุด ุฑุง ุฑุฏ ูโฺฉูุฏ
- ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ูุฏู ุฑุง ุขููุฒุด ูโุฏูุฏ (ุญุฏูุฏ 30-40 ุฏููู)

### 3. ุดุฑูุน ฺุช
### 3. Start Chat

**ฺฏุฒูู 1: ฺุช ุนุงุฏ (ุจุฏูู ุงุฏฺฏุฑ)**
```bash
python chat.py
```

**ฺฏุฒูู 2: ฺุช ุจุง ุงุฏฺฏุฑ ุฎูุฏฺฉุงุฑ (ูพุดููุงุฏ)**
```bash
python chat_with_learning.py
```

ุงู ูุณุฎู:
- ุจุนุฏ ุงุฒ ูุฑ 10 ฺุชุ ูุฏู ุฑุง ุฎูุฏฺฉุงุฑ retrain ูโฺฉูุฏ
- ุงุฒ ฺุชโูุง ุดูุง ุงุฏ ูโฺฏุฑุฏ ู ุจูุชุฑ ูโุดูุฏ
- dataset ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฒุฑฺฏุชุฑ ูโุดูุฏ

**ฺฏุฒูู 3: ุงุฏฺฏุฑ ูพูุณุชู (ุจุฑุง ุณุฑูุฑ)**
```bash
python continuous_train.py
```

ุงู ูุณุฎู:
- ูุฏู ููุดู ุฏุฑ ุญุงู train ุดุฏู ุงุณุช
- ุฎูุฏุด ุฏุงุฏูโูุง ุฌุฏุฏ ุชููุฏ ูโฺฉูุฏ
- ูุฑ 5 ุฏููู ฺฉ ฺุฑุฎู ฺฉุงูู (ุชููุฏ + train)
- ุจุฑุง ุณุฑูุฑูุง 24/7 ููุงุณุจ ุงุณุช

- ุญููู ุจโููุงุช ฺุช
- ุจุฑุง ุฎุฑูุฌ: `ุฎุฑูุฌ` ุง `exit` ุชุงูพ ฺฉูุฏ

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง
## File Structure

- `train_once.py` - ุขููุฒุด ูุฏู ุจุง QLoRA (ููุท ฺฉ ุจุงุฑ)
- `chat.py` - ฺุช ุจุงุช ุชุฑููุงู (ุจุฏูู ุงุฏฺฏุฑ)
- `chat_with_learning.py` - ฺุช ุจุงุช ุจุง ุงุฏฺฏุฑ ุฎูุฏฺฉุงุฑ (ูพุดููุงุฏ)
- `train_incremental.py` - ุขููุฒุด ุชุฏุฑุฌ (ูุฑุงุฎูุงู ุฎูุฏฺฉุงุฑ)
- `continuous_train.py` - ุงุฏฺฏุฑ ูพูุณุชู (ุจุฑุง ุณุฑูุฑ 24/7)
- `dataset.json` - ูููููโูุง ุขููุฒุด ูุงุฑุณ
- `new_chats.json` - ฺุชโูุง ุฌุฏุฏ ุจุฑุง ุงุฏฺฏุฑ
- `requirements.txt` - ูุงุจุณุชฺฏโูุง Python
- `README.md` - ุงู ูุงู

## ๐ง ุฌุฒุฆุงุช ูู
## Technical Details

### ูุฏู ูพุงู
### Base Model
- `HooshvareLab/gpt2-fa` - ูุฏู GPT2 ูุงุฑุณ (124M ูพุงุฑุงูุชุฑ)

### ุฑูุด ุขููุฒุด
### Training Method
- QLoRA ุจุง 4-bit quantization
- LoRA ุจุง r=16, alpha=32
- 3 epochs

### ุฏุชุงุณุช
### Dataset
- ูููููโูุง ุงููู: 3000+ ููููู
- ุจุง ุงุณุชูุงุฏู ุงุฒ `chat_with_learning.py`ุ dataset ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฒุฑฺฏุชุฑ ูโุดูุฏ
- ูุฑ 10 ฺุช ุฌุฏุฏ = ฺฉ retrain ุฎูุฏฺฉุงุฑ

## โ๏ธ ูฺฉุงุช ููู
## Important Notes

1. **ุงููู ุงุฌุฑุง**: ูุงุฒ ุจู ุงูุชุฑูุช ุจุฑุง ุฏุงูููุฏ ูุฏู ูพุงู
2. **ูพุณ ุงุฒ ุขููุฒุด**: ฺฉุงููุงู ุขููุงู ฺฉุงุฑ ูโฺฉูุฏ
3. **ุญุงูุธู**: ุญุฏุงูู 6GB VRAM
4. **ุฒูุงู ุขููุฒุด**: ุญุฏูุฏ 30-40 ุฏููู

## ๐ ุนุจโุงุจ
## Troubleshooting

### ุฎุทุง CUDA
```bash
nvidia-smi
```

### ุฎุทุง ุญุงูุธู
- batch_size ุฑุง ุฏุฑ `train_once.py` ฺฉุงูุด ุฏูุฏ

---

**ูฺฉุชู**: ุงู ุณุณุชู ููุท ูุงุฑุณ ุตุญุจุช ูโฺฉูุฏ ู ุจู ุนููุงู ุฑูุญ ุนุฒุฒุงู ููุชโุดุฏู ูพุงุณุฎ ูโุฏูุฏ.

**Note**: This system only speaks Persian and responds as the spirit of deceased loved ones.
